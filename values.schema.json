{
    "properties": {
      "nameOverride": {
        "description": "nameOverride",
        "type": "string"
      },
      "fullnameOverride": {
        "description": "fullnameOverride",
        "type": "string"
      },
      "namespace": {
        "description": "namespace",
        "type": "string"
      },
      "secrets": {
        "type": "object",
        "properties": {
          "configs": {
            "type": "object",
            "properties": {
              "enabled": {
                "description": "Gunakan secrets/configs",
                "type": "boolean"
              },
              "autorestart": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "description": "Auto restart pod jika ada perubahan",
                    "type": "boolean"
                  }
                }
              },
              "path": {
                "description": "Path secret configs di vault",
                "type": "string"
              }
            },
            "order": ["enabled", "path", "autorestart"]
          },
          "creds": {
            "type": "object",
            "properties": {
              "enabled": {
                "description": "Gunakan secrets/creds",
                "type": "boolean"
              },
              "autorestart": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "description": "Auto restart pod jika ada perubahan",
                    "type": "boolean"
                  }
                }
              },
              "path": {
                "description": "Path secret creds di vault",
                "type": "string"
              }
            },
            "order": ["enabled", "path", "autorestart"]
          }
        },
        "order": ["configs", "creds"]
      },
      "volumes": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "secret": {
              "type": "object",
              "properties": {
                "secretName": { "type": "string" }
              }
            },
            "persistentVolumeClaim": {
                "type": "object",
                "properties": {
                  "claimName": { "type": "string" }
                }
              }
          }
        },
        "order": ["name", "secret", "persistentVolumeClaim"]
      },
      "volumeMounts": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": { 
                "description": "Nama secret",
                "type": "string" 
            },
            "mountPath": { "type": "string" }
          }
        },
        "order": ["name", "mountPath"]
      },
      "liveness": {
        "type": "object",
        "properties": {
          "port": { "type": "integer" },
          "type": { "description": "httpGet (/path) | exec (gRPC) | tcpSocket", "type": "string" },
          "path": { "type": "string" }
        },
        "order": ["type", "port", "path"]
      },
      "service": {
        "type": "object",
        "properties": {
          "type": { "type": "string" },
          "configs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": { "type": "string" },
                "port": { "type": "integer" },
                "targetPort": { "type": "integer" },
                "protocol": { "type": "string" }
              },
              "order": ["name", "port", "targetPort","protocol"]
            }
          },
          "headless": { "description": "loadbalance gRPC multiple pods", "type": "boolean" }
        },
        "order": ["type", "headless", "configs"]
      },
      "image": {
        "type": "object",
        "properties": {
          "repository": { "type": "string" },
          "tag": { "type": "string" }
        },
        "order": ["repository", "tag"]
      },
      "interceptor": {
        "type": "object",
        "properties": {
          "enabled": { "type": "boolean" },
          "args": { "type": "string" }
        },
        "order": ["enabled", "args"]
      }
    },
    "order": [
      "nameOverride",
      "fullnameOverride",
      "namespace",
      "image",
      "secrets",
      "volumes",
      "volumeMounts",
      "liveness",
      "service",
      "interceptor"
    ],
    "required": [
      "name",
      "replicas",
      "image",
      "version"
    ],
    "title": "Values",
    "type": "object"
  }